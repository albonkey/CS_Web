<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="./assets/css/index.css">
    <title>Carl Solli</title>
</head>
<body>
    <video autoplay muted loop id="myVideo">
            <source src="./assets/img/bg-loop.mp4" type="video/mp4">
    </video>
    <header>
            <div id="logo">
                <div id="name">CARL SOLLI</div>
                <div id="title">SOFTWARE ENGINEER</div>
            </div>
            <div id="menu">
                <div id="menu-btn1" class="menuBtn">Contact Me</div>
                <div id="menu-btn2" class="menuBtn">Portfolio</div>
                <div id="menu-btn3" class="menuBtn">About</div>
            </div>
        </header>
        <main>
            <div id="boxes-container">
                <div id="box-left" class="box"><div class="txt_rotate">ABOUT</div></div>
                <div id="box-middle">
                    <div class="txt_rotate">CS</div>
                </div>
                <div id="box-right" class="box"><div class="txt_rotate">PORTFOLIO</div></div>
            </div>
        </main>
        <div id="about"></div>
        <div id="portfolio"></div>
        <script>
            var box_middle = document.getElementById("box-middle");
            var boxMem = 0;
            var skillCount = 0;

            var skills = ["Javascript","HTML & CSS","Python","Java","SQL","Photoshop"];
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                var scrolled = (winScroll / height) * 100;

                console.log(scrolled*2);
                if(scrolled > 1){
                    box_middle.innerHTML = "";
                }
                else{
                    box_middle.innerHTML = '<div class="txt_rotate">CS</div>';
                }
                //Rotating the square and expanding it after 45.
                if(scrolled*2 <= 45){
                    box_middle.style.transform = "rotate(" + (scrolled*2 + 45) + "deg)";
                }
                else if(scrolled*2 < 80){
                    box_middle.style.transform = "scale(" + (Math.pow((scrolled*2/45),2)) + "," + (Math.pow((scrolled*2/45),2))+")";
                    boxMem = (Math.pow((scrolled*2/45),2))
                }
                else if(scrolled*2 < 120){
                    box_middle.style.border = "1px solid white";
                    box_middle.innerHTML = `
                        <div id="about-container">
                            <div id="about-header"> Carl Solli </div>
                            <div id="about-title">California State University of Los Angeles</div>
                            <div class="about-info">
                                I began my degree as a Computer Science Major, Fall of 2018.
                                I'm not completely sure where I want to go with my major yet, 
                                but I'm interested in Web Development, Robotics and Artificial Intelligence.
                            </div>
                            <div class="about-info">
                                I'm a student athlethe playing soccer. Soccer is something that has been with me my 
                                entire life and has helped me evolve as a person. It has also opened alot of doors, giving
                                me opportunities I would not get without it.    
                            </div>
                            <div class="about-info">
                                In my freetime I like to work on my other hobbies which include drawing, playing the guitar, 
                                card magic and photography/ video editing.
                            </div>
                        </div>
                    `;
                    if((scrolled*2) < 90){
                        document.getElementById("about-container").style.opacity = `${(((scrolled*2) - 80)/10)}`;
                    }
                    if ((scrolled*2) > 105){
                        box_middle.style.opacity = `${1 - (((scrolled*2) - 110)/10)}`;
                    }
                 }
                 else if(scrolled*2 < 165){
                    box_middle.style.opacity = "1";
                    box_middle.style.border = 0;
                    box_middle.innerHTML = "";
                    
                    skillCount = Math.floor((scrolled*2-120)/5);
                     
                    if(scrolled*2<155){
                        for(var i = 0; i < skillCount; i++){
                        box_middle.innerHTML += `
                        <div class='skillbox'>${skills[i]}</div>
                     `;
                     }
                    }
                 } 
                 else if(scrolled*2 < 130) {

                 }
                 else{
                 }
                
            }

        </script>
    </body>
</html>